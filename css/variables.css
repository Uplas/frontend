/* css/variables.css */
/* ================================================
   Uplas Global CSS Variables (v2.0 - New Palette)
   ================================================ */

:root {
    /* === NEW: Core Color Palette (Futuristic EdTech) === */
    --color-primary: #4A90E2;         /* A professional, vibrant blue */
    --color-primary-dark: #357ABD;    /* Darker shade for hovers/accents */
    --color-primary-light: #8DB9ED;   /* Lighter shade for highlights */
    --color-primary-ultralight: rgba(74, 144, 226, 0.1);

    --color-secondary: #50E3C2;       /* A vibrant mint green for accents */
    --color-secondary-dark: #3BAA90;
    --color-secondary-light: #88F1D6;

    --color-accent: #F5A623;         /* A warm orange for attention-grabbing CTAs */
    --color-accent-dark: #D4880B;
    --color-accent-light: #F8C56E;

    /* Functional Colors */
    --color-success: #28a745;
    --color-success-light: rgba(40, 167, 69, 0.1);
    --color-error: #D0021B;
    --color-error-light: rgba(208, 2, 27, 0.1);
    --color-warning: var(--color-accent);
    --color-warning-light: rgba(245, 166, 35, 0.1);
    --color-info: var(--color-primary);
    --color-info-light: var(--color-primary-ultralight);

    /* Neutral & Grayscale Palette (Light Mode) */
    --color-white: #ffffff;
    --color-black: #000000;
    --color-light-bg: #f7f9fc;      /* A very light, cool gray background */
    --color-light-card: #ffffff;
    --color-light-border: #dfe6f0;
    --color-light-text-primary: #2c3e50; /* A softer, professional black */
    --color-light-text-secondary: #7f8c8d;
   --current-header-bg: var(--color-white);
    --current-footer-bg: var(--color-light-text-primary);
    --current-footer-text-color: #bdc3c7;
    --current-footer-heading-color: var(--color-black); /* Black for light mode */
}

    /* Dark Mode Specific Base Colors */
    --color-dark-bg-primary: #0d1117;  /* Luxury Black */
    --color-dark-bg-secondary: #161b22;
    --color-dark-bg-panel: #21262d;
    --color-dark-bg-input: #0d1117;
    --color-dark-border-primary: #30363d;
    --color-dark-border-secondary: #21262d;
    --color-dark-text-primary: #c9d1d9;
    --color-dark-text-secondary: #8b949e;


    /* Typography */
    --font-primary: 'Poppins', sans-serif;
    --font-size-base: 16px;
    --font-size-xs: 0.75rem;
    --font-size-sm: 0.875rem;
    --font-size-md: 1rem;
    --font-size-lg: 1.125rem;
    --font-size-xl: 1.5rem;
    --font-size-xxl: 2rem;
    --font-size-hero: clamp(2.0rem, 5.5vw, 3.3rem);

    --line-height-base: 1.65;
    --line-height-heading: 1.3;

    --font-weight-light: 300;
    --font-weight-regular: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;

    /* Spacing */
    --spacing-xxs: 0.25rem; --spacing-xs: 0.5rem; --spacing-sm: 0.75rem; --spacing-md: 1rem;
    --spacing-lg: 1.5rem; --spacing-xl: 2rem; --spacing-xxl: 3rem; --spacing-xxxl: 4rem;

    /* Borders & Shadows */
    --border-radius-sm: 4px; --border-radius-md: 8px; --border-radius-lg: 12px; --border-radius-xl: 16px;
    --border-radius-pill: 9999px;
    --border-width: 1px; --border-width-bold: 2px;
    --box-shadow-sm: 0 2px 5px rgba(44, 62, 80, 0.06);
    --box-shadow-md: 0 5px 12px -1px rgba(44, 62, 80, 0.08), 0 3px 7px -2px rgba(44, 62, 80, 0.05);
    --box-shadow-lg: 0 12px 20px -3px rgba(44, 62, 80, 0.1), 0 5px 8px -4px rgba(44, 62, 80, 0.06);
    --box-shadow-focus: 0 0 0 3px var(--color-primary-ultralight);
    --box-shadow-focus-error: 0 0 0 3px var(--color-error-light);

    /* Transitions */
    --transition-base: 0.25s ease-out;

    /* Layout Specific */
    --header-height: 70px; --header-height-mobile: 60px;
    --container-max-width: 1200px;
    --container-padding-x: var(--spacing-lg);
    --container-padding-x-mobile: var(--spacing-md);

    /* === THEME-DEPENDENT VARIABLES (Light Mode Defaults) === */
    --current-bg-color: var(--color-light-bg);
    --current-text-color: var(--color-light-text-primary);
    --current-text-color-secondary: var(--color-light-text-secondary);
    --current-card-bg: var(--color-light-card);
    --current-border-color: var(--color-light-border);
    --current-input-bg: var(--color-white);
    --current-link-color: var(--color-primary);
    --current-link-hover-color: var(--color-primary-dark);
    --current-header-bg: var(--color-white);
    --current-footer-bg: var(--color-light-text-primary); /* Dark footer for contrast */
    --current-footer-text-color: #bdc3c7; /* CORRECTED: Light text for dark footer */

    /* Button Theming */
    --current-button-primary-bg: var(--color-primary);
    --current-button-primary-text: var(--color-white);
    --current-button-primary-hover-bg: var(--color-primary-dark);
}

.dark-mode {
    --current-bg-color: var(--color-dark-bg-primary);
    --current-text-color: var(--color-dark-text-primary);
    --current-text-color-secondary: var(--color-dark-text-secondary);
    --current-card-bg: var(--color-dark-bg-panel);
    --current-border-color: var(--color-dark-border-primary);
    --current-input-bg: var(--color-dark-bg-input);
    --current-link-color: var(--color-secondary);
    --current-link-hover-color: var(--color-secondary-light);
    --current-header-bg: var(--color-dark-bg-panel);
    --current-footer-bg: var(--color-dark-bg-primary);
    --current-footer-text-color: var(--color-dark-text-secondary);

    --current-button-primary-bg: var(--color-secondary);
    --current-button-primary-text: var(--color-black);
    --current-button-primary-hover-bg: var(--color-secondary-light);

    --current-header-bg: var(--color-dark-bg-panel);
    --current-footer-bg: var(--color-dark-bg-primary);
    --current-footer-text-color: var(--color-dark-text-secondary);
    /* === NEW: Specific variable for footer headings === */
    --current-footer-heading-color: var(--color-white); /* White for dark mode */
}


```css
/* css/global.css */
/* ================================================
   Uplas Global Styles (global.css)
   - Apply to common HTML elements, base layout utilities
   - Relies on variables from variables.css
   ================================================ */
@import url('variables.css');

/* --- Base HTML & Body --- */
html {
    font-size: var(--font-size-base);
    scroll-behavior: smooth;
    scroll-padding-top: var(--header-height, 70px); /* Offset for fixed header */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    font-family: var(--font-primary);
    background-color: var(--current-bg-color);
    color: var(--current-text-color);
    margin: 0;
    padding: 0;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    line-height: var(--line-height-base);
    transition: background-color var(--transition-base), color var(--transition-base);
    padding-top: var(--header-height, 70px); /* Space for fixed header */
}

/* --- Basic Reset & Typography --- */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
img, picture, video, canvas, svg { display: block; max-width: 100%; height: auto; }
input, button, textarea, select { font: inherit; border: none; background: none; color: inherit; -webkit-appearance: none; -moz-appearance: none; appearance: none;}
button { cursor: pointer; }
fieldset { border: none; } legend { padding: 0; font-weight: var(--font-weight-semibold); margin-bottom: var(--spacing-sm); }

h1, h2, h3, h4, h5, h6 {
    line-height: var(--line-height-heading);
    font-weight: var(--font-weight-semibold);
    color: var(--current-text-color);
    margin-bottom: var(--spacing-md);
}
h1 { font-size: var(--font-size-xxl); font-weight: var(--font-weight-bold); }
h2 { font-size: var(--font-size-xl); }
h3 { font-size: var(--font-size-lg); }
h4 { font-size: var(--font-size-md); }
p { margin-bottom: var(--spacing-md); line-height: var(--line-height-base); }
ul, ol { list-style-position: outside; padding-left: var(--spacing-lg); margin-bottom: var(--spacing-md); }
li { margin-bottom: var(--spacing-xs); }
a {
    color: var(--current-link-color);
    text-decoration: none;
    transition: color var(--transition-short), opacity var(--transition-short);
}
a:hover, a:focus-visible {
    color: var(--current-link-hover-color);
    text-decoration: none; /* Or underline if preferred globally */
}

/* --- Utility Classes --- */
.container {
    width: 100%;
    max-width: var(--container-max-width);
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--container-padding-x);
    padding-right: var(--container-padding-x);
}
.sr-only { /* Screen reader only */
    position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px;
    overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0;
}

/* --- Focus Visible Polyfill (basic, or use a library) --- */
*:focus:not(:focus-visible) { outline: none; }
*:focus-visible {
    outline: var(--border-width-bold) solid var(--color-accent);
    outline-offset: 2px;
    box-shadow: 0 0 0 3px rgba(244, 162, 97, 0.35); /* Accent focus ring */
    border-radius: var(--border-radius-sm); /* Optional rounded focus outline */
}


/* --- Global Button Styles --- */
.button {
    display: inline-flex; align-items: center; justify-content: center;
    gap: var(--spacing-xs); padding: var(--spacing-sm) var(--spacing-lg);
    font-family: var(--font-primary); font-weight: var(--font-weight-medium);
    font-size: var(--font-size-sm); border-radius: var(--border-radius-md);
    border: var(--border-width-bold) solid transparent; cursor: pointer;
    text-align: center; text-decoration: none; white-space: nowrap;
    transition: all var(--transition-base);
    box-shadow: var(--box-shadow-xs);
}
.button:hover { transform: translateY(-2px); box-shadow: var(--box-shadow-md); }
.button:active { transform: translateY(0); box-shadow: var(--box-shadow-xs); }
.button:disabled, .button[disabled] {
    opacity: 0.6; cursor: not-allowed; transform: none; box-shadow: none;
    background-color: var(--current-border-color) !important;
    color: var(--current-text-color-secondary) !important;
    border-color: var(--current-border-color) !important;
}
.button i { margin-right: var(--spacing-xs); font-size: 0.9em; }
.button--large { padding: var(--spacing-md) var(--spacing-xl); font-size: var(--font-size-md); font-weight: var(--font-weight-semibold); }
.button--small { padding: var(--spacing-xs) var(--spacing-sm); font-size: var(--font-size-xs); }
.button--extra-small { padding: var(--spacing-xxs) var(--spacing-sm); font-size: var(--font-size-xs); font-weight: var(--font-weight-medium); line-height: 1.3; border-width: var(--border-width); }
.button--full-width { width: 100%; }

.button--primary {
    background-color: var(--current-button-primary-bg);
    color: var(--current-button-primary-text);
    border-color: var(--current-button-primary-border);
    font-weight: var(--font-weight-semibold);
}
.button--primary:hover, .button--primary:focus-visible {
    background-color: var(--current-button-primary-hover-bg);
    border-color: var(--current-button-primary-hover-bg); /* Often same as bg for primary */
}

.button--secondary {
    background-color: var(--current-button-secondary-bg);
    color: var(--current-button-secondary-text);
    border-color: var(--current-button-secondary-border);
}
.button--secondary:hover, .button--secondary:focus-visible {
    background-color: var(--current-button-secondary-hover-bg);
    color: var(--current-button-secondary-hover-text);
    border-color: var(--current-button-secondary-hover-bg); /* Often same as bg for secondary hover */
}

/* --- Global Form Element Styles (base, can be overridden by page-specific CSS) --- */
.form__group { margin-bottom: var(--spacing-lg); position: relative; }
.form__label {
    display: block; font-weight: var(--font-weight-medium);
    margin-bottom: var(--spacing-xs);
    font-size: var(--font-size-sm); color: var(--current-text-color);
}
.form__input, .form__select, .form__textarea {
    width: 100%; padding: var(--spacing-sm) var(--spacing-md);
    border: var(--border-width) solid var(--current-input-border-color);
    border-radius: var(--border-radius-md);
    background-color: var(--current-input-bg);
    color: var(--current-input-text-color);
    font-size: 0.95rem; line-height: 1.5;
    transition: border-color var(--transition-short), box-shadow var(--transition-short);
}
.form__input::placeholder, .form__textarea::placeholder {
    color: var(--current-input-placeholder-color); opacity: 0.8;
}
.form__input:focus, .form__select:focus, .form__textarea:focus {
    border-color: var(--color-primary);
    box-shadow: var(--box-shadow-focus);
    outline: none;
}
.form__input.invalid, .form__select.invalid, .form__textarea.invalid {
    border-color: var(--color-error) !important;
    box-shadow: var(--box-shadow-focus-error) !important;
}
.form__error-message {
    display: block; color: var(--color-error);
    font-size: var(--font-size-xs);
    margin-top: var(--spacing-xxs);
    min-height: 1.2em;
}
.form__hint {
    display: block; font-size: var(--font-size-xs);
    color: var(--current-text-color-secondary);
    margin-top: var(--spacing-xxs);
}
.form__select { /* Custom select arrow */
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)' viewBox='0 0 24 24' fill='none' stroke='%23${var(--current-text-color-secondary).replace("#", "")}' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right var(--spacing-md) center;
  background-size: 1em;
  padding-right: calc(var(--spacing-md) + 1.5em); /* Space for arrow */
}
.dark-mode .form__select {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)' viewBox='0 0 24 24' fill='none' stroke='%23${var(--color-dark-text-secondary).replace("#", "")}' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
}

/* --- Header Language & Currency Selectors --- */
.language-currency-selectors {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}
.select-wrapper {
    position: relative;
    display: flex;
    align-items: center;
}
.selector-icon {
    position: absolute;
    left: var(--spacing-sm);
    font-size: 0.9em;
    color: var(--current-text-color-secondary);
    pointer-events: none; /* Allow click on select */
}
.header-select {
    background-color: var(--current-input-bg);
    color: var(--current-text-color);
    border: 1px solid var(--current-border-color);
    border-radius: var(--border-radius-md);
    padding: var(--spacing-xs) var(--spacing-sm) var(--spacing-xs) calc(var(--spacing-sm) + 20px); /* Space for icon */
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-medium);
    appearance: none; /* Remove default arrow */
    -webkit-appearance: none;
    -moz-appearance: none;
    cursor: pointer;
    min-width: 80px; /* Adjust as needed */
    height: 32px; /* Match theme button approx height */
    line-height: 1;
}
.header-select:hover {
    border-color: var(--color-primary);
}
/* Hide default select arrow for browsers that don't support appearance:none well for select */
.header-select::-ms-expand { display: none; }

@media (max-width: 991px) {
    .language-currency-selectors {
        /* Decide how to handle these on mobile: hide, move to menu, or stack */
        display: none; /* Simplest option: hide in mobile header, move to menu if critical */
    }
}
```javascript
// js/global.js
/* ================================================
   Uplas Global JavaScript (global.js)
   - Theme Toggle
   - Mobile Navigation
   - Language Switcher (Basic Structure)
   - Currency Switcher (Basic Structure)
   - Common Utility Functions
   ================================================ */
'use strict';

document.addEventListener('DOMContentLoaded', () => {
    const body = document.body;
    const htmlElement = document.documentElement;

    // --- 1. Theme Toggle ---
    const themeToggleButton = document.getElementById('theme-toggle');

    const updateThemeButtonAppearance = (isDarkMode) => {
        if (!themeToggleButton) return;
        const themeTextSpan = themeToggleButton.querySelector('.theme-text');
        const moonIcon = themeToggleButton.querySelector('.theme-icon--dark');
        const sunIcon = themeToggleButton.querySelector('.theme-icon--light');

        themeToggleButton.setAttribute('aria-label', isDarkMode ? 'Switch to Light Mode' : 'Switch to Dark Mode');
        themeToggleButton.setAttribute('title', isDarkMode ? 'Switch to Light Mode' : 'Switch to Dark Mode');

        if (themeTextSpan) { // If text like "Dark Mode" is used
            themeTextSpan.textContent = isDarkMode ? 'Light Mode' : 'Dark Mode';
        }
        // CSS should primarily handle icon visibility based on .dark-mode on body
        if (moonIcon) moonIcon.style.display = isDarkMode ? 'none' : 'inline-block';
        if (sunIcon) sunIcon.style.display = isDarkMode ? 'inline-block' : 'none';
    };

    const applyThemePreference = () => {
        const savedDarkMode = localStorage.getItem('uplasGlobalTheme');
        const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        let isDarkMode;

        if (savedDarkMode !== null) {
            isDarkMode = savedDarkMode === 'true';
        } else {
            isDarkMode = systemPrefersDark; // Default to system preference
            localStorage.setItem('uplasGlobalTheme', isDarkMode); // Save system pref as initial choice
        }

        body.classList.toggle('dark-mode', isDarkMode);
        updateThemeButtonAppearance(isDarkMode);
    };

    if (themeToggleButton) {
        themeToggleButton.addEventListener('click', () => {
            const isCurrentlyDark = body.classList.contains('dark-mode');
            const newIsDarkMode = !isCurrentlyDark;
            body.classList.toggle('dark-mode', newIsDarkMode);
            localStorage.setItem('uplasGlobalTheme', newIsDarkMode);
            updateThemeButtonAppearance(newIsDarkMode);
        });
    }
    applyThemePreference(); // Apply theme on initial load

    // --- 2. Mobile Navigation Toggle ---
    const mobileNavToggleButton = document.getElementById('mobile-nav-toggle');
    const mainNavigation = document.getElementById('main-navigation');

    if (mobileNavToggleButton && mainNavigation) {
        mobileNavToggleButton.addEventListener('click', () => {
            const isExpanded = mobileNavToggleButton.getAttribute('aria-expanded') === 'true' || false;
            mobileNavToggleButton.setAttribute('aria-expanded', !isExpanded);
            mainNavigation.classList.toggle('nav--open');

            const icon = mobileNavToggleButton.querySelector('i');
            if (icon) {
                icon.classList.toggle('fa-bars', isExpanded);
                icon.classList.toggle('fa-times', !isExpanded);
            }
        });
    }

    // --- 3. Language Switcher ---
    const languageSelector = document.getElementById('language-selector');
    let currentTranslations = {}; // To hold loaded translation strings

    // In a real app, these would be more extensive or dynamically loaded from /locales/*.json
    const simpleTranslations = {
        en: {
            "site_title": "Uplas | Master AI, Secure Your Future.",
            "hero_title": "The AI Revolution is Here. Are You Ready?",
            "hero_subtitle": "Uplas empowers Professionals and Students to Upskill or Reskill with Personalized AI Learning.",
            "get_started_free_cta": "Get Started Free",
            "explore_plans_cta": "Explore Plans",
            "nav_home": "Home",
            "nav_courses": "Courses",
            "nav_pricing": "Pricing",
            "nav_blog": "Blog",
            "nav_community": "Community",
            "nav_login_signup": "Login/Sign Up",
            "toggle_theme_sr": "Toggle Dark/Light Mode",
            "toggle_navigation_sr": "Menu",
            "benefits_title": "Why Uplas is Your Key to AI Mastery",
            "benefits_subtitle": "Unlock unparalleled advantages and accelerate your AI journey with our cutting-edge platform.",
            "benefit1_title": "Hyper-Personalized Learning Paths",
            "benefit1_desc": "Our AI tailors questions and content to your unique skill level and learning pace, ensuring you grasp concepts effectively and efficiently. No more one-size-fits-all.",
            "benefit2_title": "24/7 AI Tutor Support",
            "benefit2_desc": "Never get stuck. Our intelligent AI Tutor provides instant answers, explanations, and guidance whenever you need it, day or night.",
            "benefit3_title": "Portfolio-Ready AI Projects",
            "benefit3_desc": "Move beyond theory. Apply your skills by building AI-generated, real-world projects that showcase your capabilities to potential employers.",
            "benefit4_title": "Flexible Learning Formats",
            "benefit4_desc": "Learn your way. Instantly convert answers and explanations into audio summaries or video walkthroughs with our integrated TTS and TTV technology.",
            "benefit5_title": "Thriving Global Community",
            "benefit5_desc": "Connect with fellow learners, mentors, and industry experts. Share insights, collaborate on projects, and network for future opportunities.",
            "benefit6_title": "Future-Proof Your Career",
            "benefit6_desc": "Equip yourself with the most in-demand AI skills. Upskill for your current role or reskill for the AI-driven job market of tomorrow.",
            "course_desc_title": "Dive Deep into Practical AI Applications",
            "course_desc_text": "Our courses are meticulously designed to bridge the gap between theoretical knowledge and practical, real-world application. Each module is crafted to build upon the last, ensuring a comprehensive understanding.",
            "explore_our_courses_cta": "Explore Our Courses",
            "signup_tab": "Sign Up",
            "login_tab": "Login",
            "signup_form_title": "Create Your Uplas Account",
            "signup_step1_indicator": "Step 1 of 5: Basic Information",
            "form_label_fullname": "Full Name",
            "form_button_next": "Next",
            "signup_step5_indicator": "Step 5 of 5: Secure Your Account",
            "form_label_create_password": "Create Password",
            "form_hint_password": "Min. 8 characters, with uppercase, lowercase, number, and special symbol.",
            "form_label_confirm_password": "Confirm Password",
            "form_label_terms": "I agree to the Uplas Terms of Service and Privacy Policy.",
            "form_button_prev": "Previous",
            "form_button_create_account": "Create Account",
            "login_form_title": "Welcome Back to Uplas!",
            "form_label_email": "Email Address",
            "form_label_password": "Password",
            "form_link_forgot_password": "Forgot password?",
            "form_button_login": "Login",
            "faq_title": "Frequently Asked Questions",
            "faq_subtitle": "Have questions? We've got answers. If you don't see yours here, feel free to contact our team.",
            "faq1_question": "Will AI take my job?",
            "faq1_answer": "It's a valid concern! While AI automates some tasks, it primarily *changes* jobs, creating new roles and demanding new skills...",
            "footer_contact_us": "Get in Touch",
            "footer_location": "Uplas Towers, Kilifi, Kenya",
            "footer_follow_us": "Connect With Us",
            "footer_explore_uplas": "Explore Uplas",
            "footer_legal_support": "Legal & Support",
            "footer_terms": "Terms of Service",
            "footer_copyright": "© {year} Uplas EdTech Solutions Ltd. All rights reserved. Empowering the next generation of AI innovators."

        },
        es: {
            "site_title": "Uplas | Domina la IA, Asegura tu Futuro.",
            "hero_title": "La Revolución de la IA está Aquí. ¿Estás Listo?",
            "hero_subtitle": "Uplas capacita a Profesionales y Estudiantes para Mejorar o Reorientar sus habilidades con Aprendizaje de IA Personalizado.",
            "get_started_free_cta": "Comienza Gratis",
            "explore_plans_cta": "Explorar Planes",
            "nav_home": "Inicio",
            "nav_courses": "Cursos",
            "nav_pricing": "Precios",
            "nav_blog": "Blog",
            "nav_community": "Comunidad",
            "nav_login_signup": "Acceder/Registrarse",
            "toggle_theme_sr": "Alternar Modo Oscuro/Claro",
            "toggle_navigation_sr": "Menú",
            "benefits_title": "Por qué Uplas es tu Clave para la Maestría en IA",
            "benefits_subtitle": "Desbloquea ventajas incomparables y acelera tu viaje en IA con nuestra plataforma de vanguardia.",
            "benefit1_title": "Rutas de Aprendizaje Hiper-Personalizadas",
            "benefit1_desc": "Nuestra IA adapta preguntas y contenido a tu nivel de habilidad y ritmo de aprendizaje únicos, asegurando que comprendas los conceptos de manera efectiva y eficiente. No más soluciones únicas para todos.",
            "benefit2_title": "Soporte de Tutor IA 24/7",
            "benefit2_desc": "Nunca te quedes atascado. Nuestro Tutor IA inteligente proporciona respuestas instantáneas, explicaciones y orientación cuando lo necesites, de día o de noche.",
            "benefit3_title": "Proyectos de IA Listos para Portafolio",
            "benefit3_desc": "Ve más allá de la teoría. Aplica tus habilidades construyendo proyectos del mundo real generados por IA que muestren tus capacidades a posibles empleadores.",
            "benefit4_title": "Formatos de Aprendizaje Flexibles",
            "benefit4_desc": "Aprende a tu manera. Convierte instantáneamente respuestas y explicaciones en resúmenes de audio o tutoriales en video con nuestra tecnología TTS y TTV integrada.",
            "benefit5_title": "Comunidad Global Próspera",
            "benefit5_desc": "Conéctate con compañeros de aprendizaje, mentores y expertos de la industria. Comparte ideas, colabora en proyectos y haz networking para futuras oportunidades.",
            "benefit6_title": "Prepara tu Carrera para el Futuro",
            "benefit6_desc": "Equípate con las habilidades de IA más demandadas. Mejora tus competencias para tu rol actual o reorienta tu carrera para el mercado laboral del mañana impulsado por la IA.",
            "course_desc_title": "Sumérgete en Aplicaciones Prácticas de IA",
            "course_desc_text": "Nuestros cursos están meticulosamente diseñados para cerrar la brecha entre el conocimiento teórico y la aplicación práctica en el mundo real. Cada módulo está diseñado para construir sobre el anterior, asegurando una comprensión integral.",
            "explore_our_courses_cta": "Explora Nuestros Cursos",
            "signup_tab": "Regístrate",
            "login_tab": "Acceder",
            "signup_form_title": "Crea tu Cuenta Uplas",
            "signup_step1_indicator": "Paso 1 de 5: Información Básica",
            "form_label_fullname": "Nombre Completo",
            "form_button_next": "Siguiente",
            "signup_step5_indicator": "Paso 5 de 5: Asegura tu Cuenta",
            "form_label_create_password": "Crear Contraseña",
            "form_hint_password": "Mín. 8 caracteres, con mayúscula, minúscula, número y símbolo especial.",
            "form_label_confirm_password": "Confirmar Contraseña",
            "form_label_terms": "Acepto los Términos de Servicio y la Política de Privacidad de Uplas.",
            "form_button_prev": "Anterior",
            "form_button_create_account": "Crear Cuenta",
            "login_form_title": "¡Bienvenido de Nuevo a Uplas!",
            "form_label_email": "Correo Electrónico",
            "form_label_password": "Contraseña",
            "form_link_forgot_password": "¿Olvidaste tu contraseña?",
            "form_button_login": "Acceder",
            "faq_title": "Preguntas Frecuentes",
            "faq_subtitle": "¿Tienes preguntas? Tenemos respuestas. Si no ves la tuya aquí, no dudes en contactar a nuestro equipo.",
            "faq1_question": "¿La IA me quitará el trabajo?",
            "faq1_answer": "¡Es una preocupación válida! Si bien la IA automatiza algunas tareas, principalmente *cambia* los trabajos, creando nuevos roles y exigiendo nuevas habilidades...",
            "footer_contact_us": "Contáctanos",
            "footer_location": "Torres Uplas, Kilifi, Kenia",
            "footer_follow_us": "Síguenos",
            "footer_explore_uplas": "Explora Uplas",
            "footer_legal_support": "Legal y Soporte",
            "footer_terms": "Términos de Servicio",
            "footer_copyright": "© {year} Uplas EdTech Solutions Ltd. Todos los derechos reservados. Empoderando a la próxima generación de innovadores en IA."
        }
        // fr: { ... } // Add French translations similarly
    };

    async function loadTranslations(lang) {
        // In a real app, fetch from `/locales/${lang}.json`
        // For this example, using the simpleTranslations object
        currentTranslations = simpleTranslations[lang] || simpleTranslations.en; // Fallback to English
        console.log(`Translations for ${lang} "loaded" (from internal object).`);
    }

    function translatePage() {
        document.querySelectorAll('[data-translate-key]').forEach(element => {
            const key = element.dataset.translateKey;
            let translatedText = currentTranslations[key];

            if (translatedText) {
                // Handle dynamic year in copyright
                if (key === "footer_copyright") {
                    translatedText = translatedText.replace("{year}", new Date().getFullYear());
                }

                if (element.tagName === 'INPUT' && element.placeholder) {
                    element.placeholder = translatedText;
                } else if (element.title) {
                    // Could also translate titles if needed
                } else {
                    // For elements that might contain links (like terms agreement)
                    // A more robust solution would parse the HTML string or use a library
                    // This is a simplified approach:
                    if (element.innerHTML.includes("<a")) {
                        // Try to preserve links - very basic, might need improvement
                        const tempDiv = document.createElement('div');
                        tempDiv.innerHTML = translatedText; // Assuming translatedText might also contain <a> tags
                        // This part is tricky without a proper i18n library that handles HTML
                        // For now, let's just set textContent and accept links might be lost or need manual re-creation
                        // A better approach is to have separate translate keys for text around links.
                        // Example: "I agree to the Uplas <a href='/terms'>Terms</a> and <a href='/privacy'>Privacy</a>."
                        // Keys: "terms_agree_part1", "terms_link_text", "terms_agree_part2", "privacy_link_text"
                        element.textContent = translatedText; // Simplified
                    } else {
                        element.textContent = translatedText;
                    }
                }
            }
        });
        const pageTitleElement = document.querySelector('title[data-translate-key]');
        if (pageTitleElement && currentTranslations[pageTitleElement.dataset.translateKey]) {
            document.title = currentTranslations[pageTitleElement.dataset.translateKey];
        }
    }

    async function applyLanguagePreference(lang) {
        if (!lang || !simpleTranslations[lang]) {
            console.warn(`Language ${lang} not supported or found, defaulting to English.`);
            lang = 'en'; // Default to English if selected lang is not available
        }
        htmlElement.lang = lang;
        await loadTranslations(lang);
        translatePage();
    }

    if (languageSelector) {
        // Populate language selector dynamically if needed, or keep static options
        // For now, assuming static options in HTML match keys in simpleTranslations
        const savedLang = localStorage.getItem('uplasPreferredLanguage') || navigator.language.split('-')[0] || 'en';
        languageSelector.value = simpleTranslations[savedLang] ? savedLang : 'en'; // Ensure value exists in select
        applyLanguagePreference(languageSelector.value);

        languageSelector.addEventListener('change', (event) => {
            const selectedLang = event.target.value;
            localStorage.setItem('uplasPreferredLanguage', selectedLang);
            applyLanguagePreference(selectedLang);
        });
    } else {
        const defaultLang = localStorage.getItem('uplasPreferredLanguage') || navigator.language.split('-')[0] || 'en';
        applyLanguagePreference(simpleTranslations[defaultLang] ? defaultLang : 'en');
    }

    // --- 4. Currency Switcher & Display ---
    const currencySelector = document.getElementById('currency-selector');
    const priceElements = document.querySelectorAll('[data-price-usd]');

    const simulatedExchangeRates = { /* ... (same as before) ... */ };

    async function updateUserCurrencyDisplay() { /* ... (same as before, ensure Intl.NumberFormat uses htmlElement.lang for locale) ... */
        if (priceElements.length === 0) return;
        let targetCurrency = 'USD';
        if (currencySelector) {
            targetCurrency = currencySelector.value;
        } else {
            targetCurrency = localStorage.getItem('uplasUserCurrency') || 'USD';
        }

        const rate = simulatedExchangeRates[targetCurrency] || 1.00;

        priceElements.forEach(el => {
            const priceUSD = parseFloat(el.dataset.priceUsd);
            if (!isNaN(priceUSD)) {
                const convertedPrice = priceUSD * rate;
                try {
                    // Use the current document language for number formatting locale
                    el.textContent = new Intl.NumberFormat(document.documentElement.lang || 'en-US', {
                        style: 'currency',
                        currency: targetCurrency,
                        minimumFractionDigits: 2,
                        maximumFractionDigits: 2
                    }).format(convertedPrice);
                } catch (e) {
                    console.warn(`Could not format currency ${targetCurrency} for locale ${document.documentElement.lang}. Falling back. Error: ${e.message}`);
                    el.textContent = `${targetCurrency} ${convertedPrice.toFixed(2)}`;
                }
            }
        });
        if (currencySelector) currencySelector.value = targetCurrency;
    }

    if (currencySelector) {
        const savedCurrency = localStorage.getItem('uplasUserCurrency') || 'USD';
        currencySelector.value = savedCurrency;
        currencySelector.addEventListener('change', (event) => {
            const selectedCurrency = event.target.value;
            localStorage.setItem('uplasUserCurrency', selectedCurrency);
            updateUserCurrencyDisplay();
        });
    }
    // Initial currency display update needs to happen AFTER language is potentially set
    // So, call it after applyLanguagePreference, or if language changes.
    // For simplicity, let's call it here, and also after language change.
    // A more robust way would be to have applyLanguagePreference also trigger updateUserCurrencyDisplay
    // if the locale for Intl.NumberFormat depends on it.
    applyLanguagePreference(languageSelector ? languageSelector.value : (localStorage.getItem('uplasPreferredLanguage') || 'en')).then(() => {
        updateUserCurrencyDisplay();
    });


    // --- 5. Common Utility Functions ---
    window.uplasScrollToElement = (selector) => { /* ... (same as before) ... */ };
    window.uplasGetCookie = (name) => { /* ... (same as before) ... */ };

    console.log("Uplas global.js loaded and initialized with i18n & l10n structures.");
});
```html
<!DOCTYPE html>
<html lang="en"> <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate-key="site_title">Uplas | Master AI, Secure Your Future.</title>
    <link rel="icon" href="images/uni_plas_prev_ui.ico" type="image/x-icon">

    <link rel="preconnect" href="[https://fonts.googleapis.com](https://fonts.googleapis.com)">
    <link rel="preconnect" href="[https://fonts.gstatic.com](https://fonts.gstatic.com)" crossorigin>
    <link href="[https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap](https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap)" rel="stylesheet">

    <link rel="stylesheet" href="[https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css](https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css)" xintegrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/uhome.css">

    <meta name="description" content="Uplas empowers Professionals and Students to Upskill or Reskill with Personalized AI Learning. Master AI with our unique Q&A model and secure your place in the future workforce.">
    <meta name="keywords" content="AI learning, artificial intelligence, upskill, reskill, personalized learning, AI courses, AI projects, AI tutor">
    <meta name="theme-color" content="#00b4d8"> </head>
<body class="light-mode"> <header class="header" id="page-header">
        <div class="container header__container">
            <a href="index.html" class="logo" aria-label="Uplas Homepage">
                <img src="images/uni_plas_prev_ui.ico" alt="Uplas Platform Logo" class="logo__img">
            </a>
            <nav class="nav" id="main-navigation" aria-label="Main site navigation">
                <ul class="nav__list">
                    <li class="nav__item"><a href="index.html" class="nav__link nav__link--active" aria-current="page" data-translate-key="nav_home">Home</a></li>
                    <li class="nav__item"><a href="ucourses_list.html" class="nav__link" data-translate-key="nav_courses">Courses</a></li>
                    <li class="nav__item"><a href="upricing.html" class="nav__link" data-translate-key="nav_pricing">Pricing</a></li>
                    <li class="nav__item"><a href="ublog.html" class="nav__link" data-translate-key="nav_blog">Blog</a></li>
                    <li class="nav__item"><a href="ucommunity.html" class="nav__link" data-translate-key="nav_community">Community</a></li>
                    <li class="nav__item"><a href="#auth-section" class="nav__link nav__link--cta" data-translate-key="nav_login_signup">Login/Sign Up</a></li>
                </ul>
            </nav>
            <div class="header-actions">
                <div class="language-currency-selectors">
                    <div class="select-wrapper">
                        <label for="language-selector" class="sr-only">Select Language</label>
                        <i class="fas fa-globe selector-icon"></i>
                        <select id="language-selector" class="header-select" title="Select Language">
                            <option value="en">English (EN)</option>
                            <option value="es">Español (ES)</option>
                            <option value="fr">Français (FR)</option>
                            {/* */}
                        </select>
                    </div>
                    <div class="select-wrapper">
                         <label for="currency-selector" class="sr-only">Select Currency</label>
                        <i class="fas fa-dollar-sign selector-icon"></i>
                        <select id="currency-selector" class="header-select" title="Select Currency">
                            <option value="USD">USD</option>
                            <option value="EUR">EUR</option>
                            <option value="GBP">GBP</option>
                            <option value="KES">KES</option>
                            <option value="INR">INR</option>
                            {/* */}
                        </select>
                    </div>
                </div>
                <button id="theme-toggle" class="button button--theme" aria-label="Switch to Dark Mode" title="Toggle theme">
                    <i class="fas fa-moon theme-icon theme-icon--dark" aria-hidden="true"></i>
                    <i class="fas fa-sun theme-icon theme-icon--light" aria-hidden="true" style="display:none;"></i>
                    <span class="sr-only" data-translate-key="toggle_theme_sr">Toggle Dark/Light Mode</span>
                </button>
            </div>
            <button class="nav__toggle" id="mobile-nav-toggle" aria-label="Toggle navigation menu" aria-expanded="false" aria-controls="main-navigation">
                <i class="fas fa-bars" aria-hidden="true"></i>
                <span class="sr-only" data-translate-key="toggle_navigation_sr">Menu</span>
            </button>
        </div>
    </header>

    <main class="main-content">

        <section class="hero-section">
            <div class="container hero-section__container">
                <div class="hero-section__text-content">
                    <h1 class="hero-section__title" data-translate-key="hero_title">The AI Revolution is Here. Are You Ready?</h1>
                    <p class="hero-section__subtitle" data-translate-key="hero_subtitle">Uplas empowers Professionals and Students to Upskill or Reskill with Personalized AI Learning. Master AI with our unique Q&A model and secure your place in the future workforce.</p>
                    <div class="hero-section__cta-group">
                        <a href="#auth-section" class="button button--primary button--large hero-section__cta" data-translate-key="get_started_free_cta">Get Started Free</a>
                        <a href="upricing.html" class="button button--secondary button--large hero-section__cta" data-translate-key="explore_plans_cta">Explore Plans</a>
                    </div>
                </div>
                <div class="hero-section__media-content">
                    <div class="video-responsive-container">
                        <img src="images/uplas_hero_placeholder.png" alt="Abstract representation of AI learning and innovation, showing diverse individuals interacting with technology." style="width:100%; height:100%; object-fit:cover; border-radius: var(--border-radius-lg);">
                        </div>
                </div>
            </div>
        </section>

        <section class="benefits-section">
            <div class="container">
                <h2 class="section-title" data-translate-key="benefits_title">Why Uplas is Your Key to AI Mastery</h2>
                <p class="section-subtitle" data-translate-key="benefits_subtitle">Unlock unparalleled advantages and accelerate your AI journey with our cutting-edge platform.</p>
                <div class="benefits-grid">
                    <div class="benefit-item">
                        <img src="[https://placehold.co/100x100/00b4d8/FFFFFF?text=AI&font=poppins](https://placehold.co/100x100/00b4d8/FFFFFF?text=AI&font=poppins)" alt="Personalized Learning Icon" class="benefit-item__icon">
                        <h3 class="benefit-item__title" data-translate-key="benefit1_title">Hyper-Personalized Learning Paths</h3>
                        <p data-translate-key="benefit1_desc">Our AI tailors questions and content to your unique skill level and learning pace, ensuring you grasp concepts effectively and efficiently. No more one-size-fits-all.</p>
                    </div>
                    <div class="benefit-item">
                        <img src="[https://placehold.co/100x100/3d405b/FFFFFF?text=](https://placehold.co/100x100/3d405b/FFFFFF?text=)💡&font=poppins" alt="AI Tutor Icon" class="benefit-item__icon">
                        <h3 class="benefit-item__title" data-translate-key="benefit2_title">24/7 AI Tutor Support</h3>
                        <p data-translate-key="benefit2_desc">Never get stuck. Our intelligent AI Tutor provides instant answers, explanations, and guidance whenever you need it, day or night.</p>
                    </div>
                    <div class="benefit-item">
                        <img src="[https://placehold.co/100x100/f4a261/FFFFFF?text=](https://placehold.co/100x100/f4a261/FFFFFF?text=)💼&font=poppins" alt="Real-World Projects Icon" class="benefit-item__icon">
                        <h3 class="benefit-item__title" data-translate-key="benefit3_title">Portfolio-Ready AI Projects</h3>
                        <p data-translate-key="benefit3_desc">Move beyond theory. Apply your skills by building AI-generated, real-world projects that showcase your capabilities to potential employers.</p>
                    </div>
                    <div class="benefit-item">
                        <img src="[https://placehold.co/100x100/0077b6/FFFFFF?text=](https://placehold.co/100x100/0077b6/FFFFFF?text=)🗣️&font=poppins" alt="Multi-Format Content Icon" class="benefit-item__icon">
                        <h3 class="benefit-item__title" data-translate-key="benefit4_title">Flexible Learning Formats</h3>
                        <p data-translate-key="benefit4_desc">Learn your way. Instantly convert answers and explanations into audio summaries or video walkthroughs with our integrated TTS and TTV technology.</p>
                    </div>
                    <div class="benefit-item">
                        <img src="[https://placehold.co/100x100/28a745/FFFFFF?text=](https://placehold.co/100x100/28a745/FFFFFF?text=)🌍&font=poppins" alt="Global Community Icon" class="benefit-item__icon">
                        <h3 class="benefit-item__title" data-translate-key="benefit5_title">Thriving Global Community</h3>
                        <p data-translate-key="benefit5_desc">Connect with fellow learners, mentors, and industry experts. Share insights, collaborate on projects, and network for future opportunities.</p>
                    </div>
                    <div class="benefit-item">
                        <img src="[https://placehold.co/100x100/e76f51/FFFFFF?text=](https://placehold.co/100x100/e76f51/FFFFFF?text=)🏆&font=poppins" alt="Career Advancement Icon" class="benefit-item__icon">
                        <h3 class="benefit-item__title" data-translate-key="benefit6_title">Future-Proof Your Career</h3>
                        <p data-translate-key="benefit6_desc">Equip yourself with the most in-demand AI skills. Upskill for your current role or reskill for the AI-driven job market of tomorrow.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="feature-highlight-section" id="course-description-image-section">
            <div class="container feature-highlight__container">
                <div class="feature-highlight__image-container">
                    <img src="images/course_description_placeholder.png" alt="A student engaging with an Uplas AI course module on a tablet, with data visualizations in the background." class="feature-highlight__image">
                </div>
                <div class="feature-highlight__text-content">
                    <h2 class="section-title section-title--left-align" data-translate-key="course_desc_title">Dive Deep into Practical AI Applications</h2>
                    <p data-translate-key="course_desc_text">Our courses are meticulously designed to bridge the gap between theoretical knowledge and practical, real-world application. From understanding the core concepts of machine learning to deploying complex AI models, Uplas provides a hands-on, interactive learning experience. Each module is crafted to build upon the last, ensuring a comprehensive understanding that you can immediately apply to solve challenging problems and innovate in your field.</p>
                    <a href="ucourses_list.html" class="button button--primary" data-translate-key="explore_our_courses_cta">Explore Our Courses</a>
                </div>
            </div>
        </section>

        <section class="auth-section" id="auth-section">
            <div class="container auth-section__container">
                <div class="auth-toggle-buttons">
                    <button class="auth-toggle-button active" data-form="signup-form" data-translate-key="signup_tab">Sign Up</button>
                    <button class="auth-toggle-button" data-form="login-form" data-translate-key="login_tab">Login</button>
                </div>

                <div class="form-wrapper">
                    <form id="signup-form" class="form form--active" novalidate>
                        <h3 class="form__title" data-translate-key="signup_form_title">Create Your Uplas Account</h3>
                        
                        <div class="form-step form-step--active" data-step="1">
                            <p class="form__step-indicator" data-translate-key="signup_step1_indicator">Step 1 of 5: Basic Information</p>
                            <div class="form__group">
                                <label for="signup-full-name" class="form__label" data-translate-key="form_label_fullname">Full Name</label>
                                <input type="text" id="signup-full-name" name="fullName" class="form__input" placeholder="e.g., Jane Doe" pattern="[A-Za-zÀ-ÖØ-öø-ÿ ]{2,}" title="Please enter a valid name (at least 2 characters, letters and spaces only)" required>
                                <span class="form__error-message" aria-live="polite"></span>
                            </div>
                            <button type="button" class="button button--primary form__button form__button--next" data-translate-key="form_button_next">Next <i class="fas fa-arrow-right"></i></button>
                        </div>

                        {/* Step 2: Contact Details */}
                        <div class="form-step" data-step="2">
                            <p class="form__step-indicator" data-translate-key="signup_step2_indicator">Step 2 of 5: Contact Details</p>
                            <div class="form__group">
                                <label for="signup-email" class="form__label" data-translate-key="form_label_email">Email Address</label>
                                <input type="email" id="signup-email" name="email" class="form__input" placeholder="you@example.com" required>
                                <span class="form__error-message" aria-live="polite"></span>
                            </div>
                            <div class="form__button-group">
                                <button type="button" class="button button--secondary form__button form__button--prev" data-translate-key="form_button_prev"><i class="fas fa-arrow-left"></i> Previous</button>
                                <button type="button" class="button button--primary form__button form__button--next" data-translate-key="form_button_next">Next <i class="fas fa-arrow-right"></i></button>
                            </div>
                        </div>

                        {/* Step 3: Professional Background */}
                        <div class="form-step" data-step="3">
                            <p class="form__step-indicator" data-translate-key="signup_step3_indicator">Step 3 of 5: Professional Background</p>
                            <div class="form__group">
                                <label for="signup-organization" class="form__label" data-translate-key="form_label_organization">Organization/College/School (Optional)</label>
                                <input type="text" id="signup-organization" name="organization" class="form__input" placeholder="e.g., Acme Corp, Tech University">
                            </div>
                            <div class="form__group">
                                <label for="signup-industry" class="form__label" data-translate-key="form_label_industry">Primary Industry/Field of Study</label>
                                <select id="signup-industry" name="industry" class="form__select" required>
                                    <option value="" disabled selected data-translate-key="form_select_industry_placeholder">Select your primary industry...</option>
                                    <option value="Technology" data-translate-key="industry_technology">Technology</option>
                                    <option value="Healthcare" data-translate-key="industry_healthcare">Healthcare</option>
                                    <option value="Finance & Banking" data-translate-key="industry_finance">Finance & Banking</option>
                                    {/* Add more options with data-translate-key */}
                                    <option value="Other" data-translate-key="industry_other">Other</option>
                                </select>
                                <span class="form__error-message" aria-live="polite"></span>
                            </div>
                            <div class="form__group form__group--hidden" id="signup-other-industry-group">
                                <label for="signup-other-industry" class="form__label" data-translate-key="form_label_specify_industry">Please Specify Your Industry</label>
                                <input type="text" id="signup-other-industry" name="otherIndustry" class="form__input" placeholder="e.g., Renewable Energy">
                                <span class="form__error-message" aria-live="polite"></span>
                            </div>
                            <div class="form__button-group">
                                <button type="button" class="button button--secondary form__button form__button--prev" data-translate-key="form_button_prev"><i class="fas fa-arrow-left"></i> Previous</button>
                                <button type="button" class="button button--primary form__button form__button--next" data-translate-key="form_button_next">Next <i class="fas fa-arrow-right"></i></button>
                            </div>
                        </div>

                        {/* Step 4: Career Goals & Verification */}
                        <div class="form-step" data-step="4">
                            <p class="form__step-indicator" data-translate-key="signup_step4_indicator">Step 4 of 5: Career Goals & Verification</p>
                            <div class="form__group">
                                <label for="signup-profession" class="form__label" data-translate-key="form_label_profession">Current or Target Profession</label>
                                <input type="text" id="signup-profession" name="profession" class="form__input" placeholder="e.g., AI Specialist, Data Analyst" required>
                                <span class="form__error-message" aria-live="polite"></span>
                            </div>
                            <div class="form__group">
                                <label for="signup-phone" class="form__label" data-translate-key="form_label_phone_whatsapp">Phone Number (for WhatsApp Verification)</label>
                                <div class="phone-input-container">
                                    <select id="signup-country-code" name="countryCode" class="form__select form__select--country-code" required>
                                        {/* Options populated by JS */}
                                    </select>
                                    <input type="tel" id="signup-phone" name="phone" class="form__input form__input--phone" placeholder="e.g., 712345678" pattern="[0-9]{7,15}" title="Please enter a valid phone number (digits only, without country code)" required>
                                </div>
                                <span class="form__error-message phone-error-message" aria-live="polite"></span>
                            </div>
                            <div class="form__button-group">
                                <button type="button" class="button button--secondary form__button form__button--prev" data-translate-key="form_button_prev"><i class="fas fa-arrow-left"></i> Previous</button>
                                <button type="button" class="button button--primary form__button form__button--next" data-translate-key="form_button_next">Next <i class="fas fa-arrow-right"></i></button>
                            </div>
                        </div>

                        {/* Step 5: Secure Account */}
                        <div class="form-step" data-step="5">
                            <p class="form__step-indicator" data-translate-key="signup_step5_indicator">Step 5 of 5: Secure Your Account</p>
                            <div class="form__group">
                                <label for="signup-password" class="form__label" data-translate-key="form_label_create_password">Create Password</label>
                                <input type="password" id="signup-password" name="password" class="form__input" placeholder="Choose a strong password" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=\[\]{};':\\|,.<>\/?]).{8,}$" title="Password must be at least 8 characters and include uppercase, lowercase, number, and special character." required>
                                <span class="form__error-message" aria-live="polite"></span>
                                <small class="form__hint" data-translate-key="form_hint_password">Min. 8 characters, with uppercase, lowercase, number, and special symbol.</small>
                            </div>
                            <div class="form__group">
                                <label for="signup-confirm-password" class="form__label" data-translate-key="form_label_confirm_password">Confirm Password</label>
                                <input type="password" id="signup-confirm-password" name="confirmPassword" class="form__input" placeholder="Re-enter your password" required>
                                <span class="form__error-message" id="signup-password-mismatch" aria-live="polite"></span>
                            </div>
                            <div class="form__group form__group--checkbox">
                                <input type="checkbox" id="signup-terms" name="terms" required>
                                <label for="signup-terms" class="form__label--checkbox">
                                    <span data-translate-key="form_label_terms_agree">I agree to the Uplas</span>
                                    <a href="/terms" target="_blank" data-translate-key="form_label_terms_link">Terms of Service</a>
                                    <span data-translate-key="form_label_terms_and">and</span>
                                    <a href="/privacy" target="_blank" data-translate-key="form_label_privacy_link">Privacy Policy</a>.
                                </label>
                                <span class="form__error-message" aria-live="polite"></span>
                            </div>
                            <div class="form__button-group">
                                <button type="button" class="button button--secondary form__button form__button--prev" data-translate-key="form_button_prev"><i class="fas fa-arrow-left"></i> Previous</button>
                                <button type="submit" class="button button--primary form__button form__button--submit" data-translate-key="form_button_create_account">Create Account</button>
                            </div>
                        </div>
                        <div id="signup-status" class="form__status" aria-live="assertive"></div>
                    </form>

                    <form id="login-form" class="form" novalidate>
                        <h3 class="form__title" data-translate-key="login_form_title">Welcome Back to Uplas!</h3>
                        <div class="form__group">
                            <label for="login-email" class="form__label" data-translate-key="form_label_email">Email Address</label>
                            <input type="email" id="login-email" name="email" class="form__input" placeholder="you@example.com" required>
                            <span class="form__error-message" aria-live="polite"></span>
                        </div>
                        <div class="form__group">
                            <label for="login-password" class="form__label" data-translate-key="form_label_password">Password</label>
                            <input type="password" id="login-password" name="password" class="form__input" placeholder="Enter your password" required>
                            <span class="form__error-message" aria-live="polite"></span>
                        </div>
                        <div class="form__group form__group--subtle-text">
                            <a href="#forgot-password" class="form__link" data-translate-key="form_link_forgot_password">Forgot password?</a>
                        </div>
                        <button type="submit" class="button button--primary form__button form__button--submit" data-translate-key="form_button_login">Login</button>
                        <div id="login-status" class="form__status" aria-live="assertive"></div>
                    </form>
                </div>
            </div>
        </section>

        <section class="faq-section">
             <div class="container">
                <h2 class="section-title" data-translate-key="faq_title">Frequently Asked Questions</h2>
                <p class="section-subtitle" data-translate-key="faq_subtitle_contact_link_html">Have questions? We've got answers. If you don't see yours here, feel free to <a href="upricing.html#contact-section" class="link">contact our team</a>.</p>
                <div class="faq-accordion">
                    <details class="faq-item">
                        <summary class="faq-item__question" data-translate-key="faq1_question">Will AI take my job?</summary>
                        <div class="faq-item__answer">
                            <p data-translate-key="faq1_answer">It's a valid concern! While AI automates some tasks, it primarily *changes* jobs, creating new roles and demanding new skills. AI excels at processing data, but lacks human creativity, critical thinking, and empathy. The key isn't fearing replacement, but learning to collaborate with AI – letting it handle the repetitive work so you can focus on higher-value tasks. Uplas teaches you how.</p>
                        </div>
                    </details>
                    {/* ... More FAQ items with data-translate-key ... */}
                </div>
            </div>
        </section>
    </main>

    <footer class="footer" id="page-footer">
        <div class="footer__container container">
             <div class="footer__section footer__section--contact">
                <h3 class="footer__heading" data-translate-key="footer_contact_us">Get in Touch</h3>
                 <address class="footer__address">
                    <p><i class="fas fa-phone footer__icon" aria-hidden="true"></i> <a href="tel:+254708654984" class="footer__link">+254 708 654 984</a></p>
                    <p><i class="fas fa-envelope footer__icon" aria-hidden="true"></i> <a href="mailto:support@uplas.com" class="footer__link">support@uplas.com</a></p>
                    <p><i class="fas fa-map-marker-alt footer__icon" aria-hidden="true"></i> <span data-translate-key="footer_location">Uplas Towers, Kilifi, Kenya</span></p>
                </address>
            </div>
             <div class="footer__section footer__section--social">
                <h3 class="footer__heading" data-translate-key="footer_follow_us">Connect With Us</h3>
                <div class="social-media">
                    <a href="#" class="social-media__link" aria-label="Uplas on Facebook" title="Facebook"><i class="fab fa-facebook-f" aria-hidden="true"></i></a>
                    <a href="#" class="social-media__link" aria-label="Uplas on Twitter" title="Twitter"><i class="fab fa-twitter" aria-hidden="true"></i></a>
                    <a href="#" class="social-media__link" aria-label="Uplas on LinkedIn" title="LinkedIn"><i class="fab fa-linkedin-in" aria-hidden="true"></i></a>
                    <a href="#" class="social-media__link" aria-label="Uplas on Instagram" title="Instagram"><i class="fab fa-instagram" aria-hidden="true"></i></a>
                </div>
            </div>
            <div class="footer__section footer__section--links">
                <h3 class="footer__heading" data-translate-key="footer_explore_uplas">Explore Uplas</h3>
                <ul class="footer__list">
                    <li><a href="index.html" class="footer__link" data-translate-key="nav_home">Home</a></li>
                    <li><a href="ucourses_list.html" class="footer__link" data-translate-key="nav_courses">All Courses</a></li>
                    <li><a href="upricing.html" class="footer__link" data-translate-key="nav_pricing">Pricing Plans</a></li>
                    <li><a href="ublog.html" class="footer__link" data-translate-key="nav_blog">AI Insights Blog</a></li>
                    <li><a href="/about" class="footer__link" data-translate-key="nav_about">About Uplas</a></li>
                </ul>
            </div>
             <div class="footer__section footer__section--legal">
                <h3 class="footer__heading" data-translate-key="footer_legal_support">Legal & Support</h3>
                 <ul class="footer__list">
                    <li><a href="/terms" class="footer__link" data-translate-key="footer_terms">Terms of Service</a></li>
                    <li><a href="/privacy" class="footer__link" data-translate-key="footer_privacy">Privacy Policy</a></li>
                    <li><a href="/cookies" class="footer__link" data-translate-key="footer_cookies">Cookie Policy</a></li>
                    <li><a href="upricing.html#contact-section" class="footer__link" data-translate-key="footer_help">Help Center</a></li>
                </ul>
            </div>
        </div>
        <div class="footer__bottom">
            <p class="footer__copyright" data-translate-key="footer_copyright_dynamic">© <span id="current-year-footer">{currentYear}</span> Uplas EdTech Solutions Ltd. All rights reserved. Empowering the next generation of AI innovators.</p>
        </div>
    </footer>

    <script src="js/global.js"></script>
    <script src="js/apiUtils.js"></script> <script src="js/uhome.js"></script>
</body>
</html>
```css
/* css/uhome.css */
/* ================================================
   Uplas Homepage Styles (uhome.css)
   ================================================ */

/* Import Global Styles & Variables */
@import url('global.css'); /* This should already include variables.css */

/* --- Hero Section --- */
.hero-section {
    padding: var(--spacing-xxl) 0;
    background-color: var(--current-bg-color);
    text-align: center;
    overflow: hidden;
}
.hero-section__container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--spacing-xl);
}
.hero-section__text-content {
    max-width: 750px;
}
.hero-section__title {
    font-size: var(--font-size-hero);
    font-weight: var(--font-weight-bold);
    color: var(--current-text-color);
    line-height: 1.2;
    margin-bottom: var(--spacing-md);
}
.dark-mode .hero-section__title { color: var(--color-primary-light); }

.hero-section__subtitle {
    font-size: clamp(1.1rem, 3vw, 1.35rem);
    color: var(--current-text-color-secondary);
    margin-bottom: var(--spacing-lg);
    line-height: 1.7;
}
.hero-section__cta-group {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-md);
    justify-content: center;
    margin-top: var(--spacing-lg);
}
.hero-section__cta { min-width: 200px; }

.hero-section__media-content {
    width: 100%;
    max-width: 600px;
    border-radius: var(--border-radius-lg);
    overflow: hidden;
    box-shadow: var(--box-shadow-lg);
}
.video-responsive-container {
    position: relative;
    padding-top: 56.25%; /* 16:9 Aspect Ratio */
    height: 0;
    overflow: hidden;
    background-color: var(--current-border-color);
}
.video-responsive-container iframe,
.video-responsive-container img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 0;
}

@media (min-width: 992px) {
    .hero-section { padding: var(--spacing-xxxl) 0; text-align: left; }
    .hero-section__container {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
    }
    .hero-section__text-content { flex: 1 1 55%; max-width: none; }
    .hero-section__media-content { flex: 1 1 40%; }
    .hero-section__cta-group { justify-content: flex-start; }
}

/* --- Benefits Section (New) --- */
.benefits-section {
    padding: var(--spacing-xxl) 0;
    background-color: var(--current-card-bg);
}
.dark-mode .benefits-section {
    background-color: var(--color-dark-bg-panel);
}
.benefits-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--spacing-xl);
    margin-top: var(--spacing-xl);
}
.benefit-item {
    text-align: center;
    padding: var(--spacing-lg);
    background-color: var(--current-bg-color);
    border-radius: var(--border-radius-lg);
    box-shadow: var(--box-shadow-sm);
    transition: transform var(--transition-base), box-shadow var(--transition-base);
    display: flex; /* For vertical alignment if content heights vary */
    flex-direction: column;
}
.dark-mode .benefit-item {
    background-color: var(--color-dark-bg-secondary);
}
.benefit-item:hover {
    transform: translateY(-5px);
    box-shadow: var(--box-shadow-md);
}
.benefit-item__icon {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    margin: 0 auto var(--spacing-md) auto;
    object-fit: cover;
    background-color: var(--color-primary-ultralight); /* Placeholder bg for icons */
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8rem; /* If using Font Awesome icons directly instead of img */
    color: var(--color-primary);
}
.benefit-item__title {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
    color: var(--current-text-color);
    margin-bottom: var(--spacing-sm);
}
.dark-mode .benefit-item__title { color: var(--color-primary-light); }
.benefit-item p {
    font-size: var(--font-size-sm);
    color: var(--current-text-color-secondary);
    line-height: 1.6;
    margin-bottom: 0;
    flex-grow: 1; /* Allows paragraphs to take available space, aligning titles if needed */
}

/* --- Feature Highlight Section (Course Description Image) --- */
.feature-highlight-section {
    padding: var(--spacing-xxl) 0;
    background-color: var(--current-bg-color);
}
#course-description-image-section {
    background-color: var(--current-card-bg);
    padding-top: var(--spacing-xxl);
    padding-bottom: var(--spacing-xxl);
}
.dark-mode #course-description-image-section {
    background-color: var(--color-dark-bg-panel);
}
.feature-highlight__container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--spacing-xl);
}
.feature-highlight__image-container {
    flex: 1;
    max-width: 550px;
    width: 100%;
    border-radius: var(--border-radius-xl);
    overflow: hidden;
    box-shadow: var(--box-shadow-lg);
}
.feature-highlight__image {
    width: 100%;
    height: auto;
    object-fit: cover;
    display: block; /* Remove extra space below image */
}
.feature-highlight__text-content {
    flex: 1;
    max-width: 600px;
}
.feature-highlight__text-content .section-title {
    margin-bottom: var(--spacing-md);
    text-align: left;
}
.feature-highlight__text-content p {
    font-size: var(--font-size-md);
    color: var(--current-text-color-secondary);
    margin-bottom: var(--spacing-lg);
    line-height: 1.7;
}
@media (min-width: 992px) {
    .feature-highlight__container {
        flex-direction: row;
        gap: var(--spacing-xxxl);
        align-items: center;
    }
    #course-description-image-section .feature-highlight__image-container { order: 0; }
    #course-description-image-section .feature-highlight__text-content { order: 1; padding-left: var(--spacing-lg); }
}


/* --- Authentication Section & Forms --- */
.auth-section {
    padding: var(--spacing-xxl) 0;
    background-color: var(--color-gray-100);
}
.dark-mode .auth-section {
    background-color: var(--color-dark-bg-primary);
}
.auth-section__container { max-width: 600px; }

.auth-toggle-buttons {
    display: flex;
    justify-content: center;
    margin-bottom: var(--spacing-lg);
    background-color: var(--current-card-bg);
    border-radius: var(--border-radius-pill);
    padding: var(--spacing-xs);
    box-shadow: var(--box-shadow-sm);
    border: 1px solid var(--current-border-color);
}
.auth-toggle-button {
    flex: 1;
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: var(--border-radius-pill);
    font-weight: var(--font-weight-semibold);
    color: var(--current-text-color-secondary);
    background-color: transparent;
    border: none;
    cursor: pointer;
    transition: background-color var(--transition-base), color var(--transition-base);
}
.auth-toggle-button.active {
    background-color: var(--color-primary);
    color: var(--color-white);
    box-shadow: var(--box-shadow-sm);
}
.dark-mode .auth-toggle-button.active {
    color: var(--color-text-dark);
}

.form-wrapper {
    background-color: var(--current-card-bg);
    padding: var(--spacing-xl);
    border-radius: var(--border-radius-lg);
    box-shadow: var(--box-shadow-md);
    border: 1px solid var(--current-border-color);
}
.form { display: none; }
.form.form--active { display: block; animation: fadeInForm 0.5s ease-out; }
@keyframes fadeInForm {
    from { opacity: 0; transform: translateY(15px); }
    to { opacity: 1; transform: translateY(0); }
}
.form__title {
    text-align: center;
    margin-bottom: var(--spacing-lg);
    font-size: var(--font-size-xl);
    color: var(--current-text-color);
}
.dark-mode .form__title { color: var(--color-primary-light); }

.form-step { display: none; }
.form-step.form-step--active { display: block; animation: fadeInStep 0.4s ease-out forwards; }
@keyframes fadeInStep {
    from { opacity: 0; transform: translateX(20px); }
    to { opacity: 1; transform: translateX(0); }
}
.form-step:not(.form-step--active) { animation: fadeOutStep 0.3s ease-out forwards; }
@keyframes fadeOutStep {
    from { opacity: 1; transform: translateX(0); }
    to { opacity: 0; transform: translateX(-20px); display:none; }
}
.form__step-indicator {
    font-size: var(--font-size-sm);
    color: var(--current-text-color-secondary);
    text-align: center;
    margin-bottom: var(--spacing-lg);
    font-weight: var(--font-weight-medium);
}
.phone-input-container { display: flex; gap: var(--spacing-xs); }
.form__select--country-code { flex: 0 0 130px; }
.form__input--phone { flex-grow: 1; }

.form__group--checkbox {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    margin-top: var(--spacing-md); /* Add some top margin */
}
.form__group--checkbox input[type="checkbox"] {
    width: auto; /* Override global form input width */
    height: 1em; /* Align with text */
    flex-shrink: 0;
    accent-color: var(--color-primary);
    margin-top: 2px; /* Fine-tune alignment */
}
.form__label--checkbox {
    font-weight: var(--font-weight-regular);
    font-size: var(--font-size-sm);
    margin-bottom: 0;
    color: var(--current-text-color-secondary);
    line-height: 1.4;
}
.form__label--checkbox a { color: var(--current-link-color); text-decoration: underline; }
.form__label--checkbox a:hover { color: var(--current-link-hover-color); }
.form__button-group {
    display: flex;
    gap: var(--spacing-md);
    margin-top: var(--spacing-lg);
}
.form__button { width: 100%; }
.form__button-group .form__button { flex: 1; }
.form__button--prev i { margin-right: var(--spacing-xs); }
.form__button--next i { margin-left: var(--spacing-xs); }
.form__status { /* Styles in global.css */ }
.form__link { /* Styles in global.css */ }
.form__group--subtle-text { text-align: right; margin-top: var(--spacing-sm); }


/* --- FAQ Section --- */
.faq-section { padding: var(--spacing-xxl) 0; }
.faq-accordion { max-width: 800px; margin: var(--spacing-xl) auto 0 auto; }
.faq-item {
    background-color: var(--current-card-bg);
    border: var(--border-width) solid var(--current-border-color);
    border-radius: var(--border-radius-md);
    margin-bottom: var(--spacing-sm);
    transition: background-color var(--transition-base);
}
.faq-item:hover { background-color: var(--current-bg-color); }
.faq-item__question {
    display: block;
    width: 100%;
    padding: var(--spacing-md) var(--spacing-lg);
    font-weight: var(--font-weight-semibold);
    color: var(--current-text-color);
    cursor: pointer;
    position: relative;
    list-style: none;
    transition: color var(--transition-short);
}
.faq-item__question::-webkit-details-marker { display: none; }
.faq-item__question::after {
    content: '\f078';
    font-family: 'Font Awesome 6 Free', 'FontAwesome';
    font-weight: 900;
    position: absolute;
    right: var(--spacing-lg);
    top: 50%;
    transform: translateY(-50%) rotate(0deg);
    transition: transform var(--transition-base);
    color: var(--current-text-color-secondary);
    font-size: 0.9em;
}
.faq-item[open] > .faq-item__question {
    color: var(--color-primary);
    border-bottom: 1px solid var(--current-border-color-light);
}
.dark-mode .faq-item[open] > .faq-item__question { color: var(--color-primary-light); }
.faq-item[open] > .faq-item__question::after { transform: translateY(-50%) rotate(180deg); }
.faq-item__answer {
    padding: var(--spacing-md) var(--spacing-lg);
    font-size: var(--font-size-sm);
    line-height: 1.7;
    color: var(--current-text-color-secondary);
}
.faq-item__answer p:last-child { margin-bottom: 0; }
.faq-item__answer ul { list-style-type: disc; padding-left: var(--spacing-md); margin-top: var(--spacing-sm); }
.faq-item__answer li { margin-bottom: var(--spacing-xs); }


/* --- Footer Styles --- */
/* Styles inherited from global.css */

/* --- Responsive Adjustments specific to uhome.css --- */
@media (max-width: 767px) {
    .benefits-grid { grid-template-columns: 1fr; }
    #course-description-image-section .feature-highlight__container {
        flex-direction: column-reverse;
    }
    .auth-toggle-buttons { flex-direction: column; border-radius: var(--border-radius-md); }
    .auth-toggle-button { border-radius: var(--border-radius-md); }
    .auth-toggle-button:not(:last-child) { margin-bottom: var(--spacing-xs); }
    .form__button-group { flex-direction: column-reverse; }
    .form__button-group .form__button:not(:last-child) { margin-bottom: var(--spacing-sm); }
}

```javascript
// js/uhome.js
/* ================================================
   Uplas Homepage Specific JavaScript (uhome.js)
   - Multi-step Signup Form Logic
   - Login Form Logic
   - Form Switching
   - API Integration Placeholders
   ================================================ */
'use strict';

document.addEventListener('DOMContentLoaded', () => {
    // --- Element Selectors ---
    const authSection = document.getElementById('auth-section');
    const signupForm = document.getElementById('signup-form');
    const loginForm = document.getElementById('login-form');
    const authToggleButtons = document.querySelectorAll('.auth-toggle-button');

    // Signup Form Specific
    const signupFormSteps = signupForm?.querySelectorAll('.form-step');
    const signupCountryCodeSelect = document.getElementById('signup-country-code');
    const signupIndustrySelect = document.getElementById('signup-industry');
    const signupOtherIndustryGroup = document.getElementById('signup-other-industry-group');
    const signupOtherIndustryInput = document.getElementById('signup-other-industry');
    const signupPasswordInput = document.getElementById('signup-password');
    const signupConfirmPasswordInput = document.getElementById('signup-confirm-password');
    const signupPasswordMismatchSpan = document.getElementById('signup-password-mismatch');
    const signupStatusDiv = document.getElementById('signup-status');
    const signupTermsCheckbox = document.getElementById('signup-terms');

    // Login Form Specific
    const loginEmailInput = document.getElementById('login-email');
    const loginPasswordInput = document.getElementById('login-password');
    const loginStatusDiv = document.getElementById('login-status');

    // --- State Variables ---
    let currentSignupStep = 0;

    // --- Utility Functions ---
    const displayFormStatus = (element, message, type, translateKey = null) => {
        if (!element) return;
        // Translation logic will be handled by global.js via data-translate-key if needed for static messages
        // For dynamic JS messages, direct text is fine for now, or pass a key for global.js to handle.
        element.textContent = message;
        element.className = 'form__status';
        if (type) element.classList.add(`form__status--${type}`);
        element.style.display = 'block';
        element.setAttribute('aria-live', type === 'error' ? 'assertive' : 'polite');
    };

    const clearFormStatus = (element) => {
        if (!element) return;
        element.textContent = '';
        element.style.display = 'none';
        element.className = 'form__status';
    };

    const validateInput = (inputElement) => {
        const group = inputElement.closest('.form__group');
        if (!group) return inputElement.checkValidity(); // Fallback if structure is different

        const errorSpan = group.querySelector('.form__error-message');
        if (!inputElement.checkValidity()) {
            inputElement.classList.add('invalid');
            if (errorSpan) {
                if (inputElement.validity.valueMissing) errorSpan.textContent = inputElement.dataset.errorRequired || "This field is required.";
                else if (inputElement.validity.patternMismatch) errorSpan.textContent = inputElement.dataset.errorPattern || inputElement.title || "Please match the requested format.";
                else if (inputElement.validity.typeMismatch) errorSpan.textContent = inputElement.dataset.errorType || "Please enter a valid value.";
                else errorSpan.textContent = inputElement.validationMessage;
            }
            return false;
        } else {
            inputElement.classList.remove('invalid');
            if (errorSpan) errorSpan.textContent = '';
            return true;
        }
    };

    // --- Form Switching Logic ---
    authToggleButtons.forEach(button => {
        button.addEventListener('click', () => {
            const targetFormId = button.dataset.form;
            const targetForm = document.getElementById(targetFormId);

            authToggleButtons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');

            if (signupForm) signupForm.classList.remove('form--active');
            if (loginForm) loginForm.classList.remove('form--active');

            if (targetForm) {
                targetForm.classList.add('form--active');
                if (targetFormId === 'signup-form') {
                    resetSignupFormSteps();
                    clearFormStatus(signupStatusDiv);
                } else {
                    clearFormStatus(loginStatusDiv);
                }
                const firstInput = targetForm.querySelector('input:not([type="hidden"]), select, textarea');
                firstInput?.focus();
            }
        });
    });

    const handleHashChange = () => {
        const hash = window.location.hash;
        if (hash === '#signup-form' || hash === '#login-form') {
            const targetButton = document.querySelector(`.auth-toggle-button[data-form="${hash.substring(1)}"]`);
            targetButton?.click();
            if (authSection && window.uplasScrollToElement) {
                 window.uplasScrollToElement('#auth-section');
            } else if (authSection) {
                authSection.scrollIntoView({ behavior: 'smooth' });
            }
        }
    };
    window.addEventListener('hashchange', handleHashChange);
    handleHashChange();


    // --- Multi-Step Signup Form Logic ---
    const resetSignupFormSteps = () => {
        currentSignupStep = 0;
        if (signupFormSteps && signupFormSteps.length > 0) {
            showSignupStep(currentSignupStep);
            signupForm?.reset();
            signupForm?.querySelectorAll('.invalid').forEach(el => el.classList.remove('invalid'));
            signupForm?.querySelectorAll('.form__error-message').forEach(el => el.textContent = '');
            if (signupOtherIndustryGroup) signupOtherIndustryGroup.classList.add('form__group--hidden');
            if (signupIndustrySelect) signupIndustrySelect.value = ""; // Reset select
        }
    };
    
    const showSignupStep = (stepIndex) => {
        if (!signupFormSteps || !signupFormSteps[stepIndex]) return;
        signupFormSteps.forEach((stepElement, index) => {
            stepElement.classList.toggle('form-step--active', index === stepIndex);
        });
        const activeStep = signupFormSteps[stepIndex];
        const firstInput = activeStep?.querySelector('input:not([type="hidden"]), select, textarea');
        firstInput?.focus();
        currentSignupStep = stepIndex;
    };

    const validateSignupStep = (stepElement) => {
        if (!stepElement) return true;
        let isStepValid = true;
        const inputsToValidate = stepElement.querySelectorAll('input[required]:not([type="hidden"]), select[required]:not([type="hidden"])');

        inputsToValidate.forEach(input => {
            if (input.id === 'signup-other-industry' && signupOtherIndustryGroup?.classList.contains('form__group--hidden')) {
                input.classList.remove('invalid');
                const errorSpan = input.closest('.form__group')?.querySelector('.form__error-message');
                if (errorSpan) errorSpan.textContent = '';
                return;
            }
            if (!validateInput(input)) isStepValid = false;
        });

        if (stepElement.dataset.step === '5') {
            if (signupPasswordInput && signupConfirmPasswordInput && signupPasswordInput.value !== signupConfirmPasswordInput.value) {
                signupConfirmPasswordInput.classList.add('invalid');
                if (signupPasswordMismatchSpan) signupPasswordMismatchSpan.textContent = "Passwords do not match.";
                isStepValid = false;
            } else {
                if (signupPasswordMismatchSpan) signupPasswordMismatchSpan.textContent = "";
                if(signupConfirmPasswordInput && signupPasswordInput?.value === signupConfirmPasswordInput.value) {
                     signupConfirmPasswordInput.classList.remove('invalid');
                }
            }
            if (signupTermsCheckbox && !signupTermsCheckbox.checked) {
                const termsErrorSpan = signupTermsCheckbox.closest('.form__group')?.querySelector('.form__error-message');
                if(termsErrorSpan) termsErrorSpan.textContent = "You must agree to the terms to continue.";
                signupTermsCheckbox.classList.add('invalid'); // Add invalid class to checkbox itself for styling if needed
                isStepValid = false;
            } else if (signupTermsCheckbox) {
                const termsErrorSpan = signupTermsCheckbox.closest('.form__group')?.querySelector('.form__error-message');
                if(termsErrorSpan) termsErrorSpan.textContent = "";
                signupTermsCheckbox.classList.remove('invalid');
            }
        }
        return isStepValid;
    };

    const nextSignupStep = () => {
        if (!signupFormSteps || currentSignupStep >= signupFormSteps.length - 1) return;
        const currentFormStepElement = signupFormSteps[currentSignupStep];
        if (validateSignupStep(currentFormStepElement)) {
            showSignupStep(currentSignupStep + 1);
        }
    };

    const prevSignupStep = () => {
        if (currentSignupStep > 0) {
            showSignupStep(currentSignupStep - 1);
            clearFormStatus(signupStatusDiv);
        }
    };

    signupForm?.querySelectorAll('.form__button--next').forEach(button => {
        button.addEventListener('click', nextSignupStep);
    });
    signupForm?.querySelectorAll('.form__button--prev').forEach(button => {
        button.addEventListener('click', prevSignupStep);
    });

    if (signupIndustrySelect && signupOtherIndustryGroup && signupOtherIndustryInput) {
        signupIndustrySelect.addEventListener('change', () => {
            const showOther = signupIndustrySelect.value === 'Other';
            signupOtherIndustryGroup.classList.toggle('form__group--hidden', !showOther);
            signupOtherIndustryInput.required = showOther;
            if (!showOther) {
                signupOtherIndustryInput.value = '';
                validateInput(signupOtherIndustryInput);
            }
        });
    }

    if (signupPasswordInput && signupConfirmPasswordInput && signupPasswordMismatchSpan) {
        const checkPasswordMatch = () => { /* ... (same as before) ... */ };
        signupConfirmPasswordInput.addEventListener('input', checkPasswordMatch);
        signupPasswordInput.addEventListener('input', checkPasswordMatch);
    }


    // --- Populate Country Codes ---
    const populateCountryCodes = () => {
        if (!signupCountryCodeSelect) return;
        // A more comprehensive list or fetch from an API is recommended for production
        const countryCodes = [
            { code: '+1', flag: '🇺🇸', name: 'United States' }, { code: '+44', flag: '🇬🇧', name: 'United Kingdom' },
            { code: '+254', flag: '🇰🇪', name: 'Kenya' }, { code: '+234', flag: '🇳🇬', name: 'Nigeria' },
            { code: '+27', flag: '🇿🇦', name: 'South Africa' }, { code: '+91', flag: '🇮🇳', name: 'India' },
            { code: '+61', flag: '🇦🇺', name: 'Australia' }, { code: '+1', flag: '🇨🇦', name: 'Canada' },
            // Add more common ones or the full list
        ];
        signupCountryCodeSelect.innerHTML = '<option value="" disabled selected>Code</option>';
        countryCodes.forEach(country => {
            const option = document.createElement('option');
            option.value = country.code;
            option.textContent = `${country.flag} ${country.code}`;
            signupCountryCodeSelect.appendChild(option);
        });
        signupCountryCodeSelect.value = '+254'; // Default to Kenya
    };
    populateCountryCodes();


    // --- Signup Form Submission ---
    const handleSignupSubmit = async (e) => {
        e.preventDefault();
        if (!signupForm || !validateSignupStep(signupFormSteps[currentSignupStep])) {
            displayFormStatus(signupStatusDiv, 'Please correct the errors above.', 'error');
            return;
        }
        clearFormStatus(signupStatusDiv);
        displayFormStatus(signupStatusDiv, 'Processing signup...', 'loading');
        const submitButton = signupForm.querySelector('button[type="submit"]');
        if (submitButton) submitButton.disabled = true;

        const formData = new FormData(signupForm);
        const dataToSend = {
            full_name: formData.get('fullName'),
            email: formData.get('email'),
            organization: formData.get('organization'),
            industry: formData.get('industry') === 'Other' ? formData.get('otherIndustry') : formData.get('industry'),
            profession: formData.get('profession'),
            whatsapp_number: `${formData.get('countryCode')}${formData.get('phone')}`,
            password: formData.get('password'),
            // Backend should handle terms agreement, not usually sent in payload
        };

        try {
            console.log("Submitting Signup Data:", dataToSend);
            // TODO: Replace with actual API call to your Django backend
            // const response = await fetch('/api/users/register/', {
            //     method: 'POST',
            //     headers: { 'Content-Type': 'application/json', 'X-CSRFToken': window.uplasGetCookie('csrftoken') },
            //     body: JSON.stringify(dataToSend),
            // });
            // const result = await response.json();

            // Simulate API response
            await new Promise(resolve => setTimeout(resolve, 2000));
            const isSuccess = Math.random() > 0.1; // 90% success rate for demo
            let result;
            if (isSuccess) {
                result = { success: true, message: 'Signup successful! A verification code has been sent to your WhatsApp number.' };
            } else {
                result = { success: false, message: 'An error occurred (e.g., email already exists). Please try again.' };
            }

            if (result.success) {
                displayFormStatus(signupStatusDiv, result.message, 'success');
                // Potentially redirect to a verification page or directly to ucourse.html
                // setTimeout(() => { window.location.href = 'ucourse.html'; }, 2500);
            } else {
                displayFormStatus(signupStatusDiv, result.message, 'error');
            }
        } catch (error) {
            console.error('Signup Error:', error);
            displayFormStatus(signupStatusDiv, 'A network error occurred. Please try again.', 'error');
        } finally {
            if (submitButton) submitButton.disabled = false;
        }
    };
    if (signupForm) signupForm.addEventListener('submit', handleSignupSubmit);


    // --- Login Form Submission ---
    const handleLoginSubmit = async (e) => { /* ... (same as previous version, ensure API endpoint and error handling are robust) ... */
        e.preventDefault();
        if (!loginForm) return;
        clearFormStatus(loginStatusDiv);

        let isFormValid = true;
        if (!validateInput(loginEmailInput)) isFormValid = false;
        if (!validateInput(loginPasswordInput)) isFormValid = false;

        if (!isFormValid) {
            displayFormStatus(loginStatusDiv, 'Please correct the errors above.', 'error');
            return;
        }

        displayFormStatus(loginStatusDiv, 'Attempting login...', 'loading');
        const submitButton = loginForm.querySelector('button[type="submit"]');
        if (submitButton) submitButton.disabled = true;

        const loginData = {
            email: loginEmailInput.value,
            password: loginPasswordInput.value
        };

        try {
            console.log("Submitting Login Data:", loginData);
            // TODO: Replace with actual API call
            // const response = await fetch('/api/users/login/', { // Or your token endpoint
            //     method: 'POST',
            //     headers: { 'Content-Type': 'application/json', 'X-CSRFToken': window.uplasGetCookie('csrftoken') },
            //     body: JSON.stringify(loginData)
            // });
            // const result = await response.json();

            await new Promise(resolve => setTimeout(resolve, 1500));
            const isSuccess = Math.random() > 0.2;
            let result;
            if(isSuccess) {
                result = { success: true, message: 'Login successful! Redirecting...', access: 'simulated_access_token', refresh: 'simulated_refresh_token' };
            } else {
                result = { success: false, detail: 'Invalid email or password. Please try again.' };
            }


            if (result.success && result.access) {
                localStorage.setItem('accessToken', result.access);
                if(result.refresh) localStorage.setItem('refreshToken', result.refresh);
                displayFormStatus(loginStatusDiv, result.message, 'success');
                setTimeout(() => { window.location.href = 'ucourse.html'; }, 1500); // Redirect to course listing
            } else {
                displayFormStatus(loginStatusDiv, result.detail || result.message || 'Login failed.', 'error');
            }
        } catch (error) {
            console.error('Login Error:', error);
            displayFormStatus(loginStatusDiv, 'A network error occurred. Please try again.', 'error');
        } finally {
            if (submitButton) submitButton.disabled = false;
        }
    };
    if (loginForm) loginForm.addEventListener('submit', handleLoginSubmit);

    // Initial setup for form visibility and focus
    const initialActiveAuthButton = document.querySelector('.auth-toggle-button.active');
    if (initialActiveAuthButton) {
        const initialFormId = initialActiveAuthButton.dataset.form;
        const initialFormElement = document.getElementById(initialFormId);
        if (initialFormElement) {
            initialFormElement.classList.add('form--active');
            const firstInput = initialFormElement.querySelector('input:not([type="hidden"]), select, textarea');
            firstInput?.focus();
        }
    } else if (signupForm) { // Default to signup if no active button
        document.querySelector('.auth-toggle-button[data-form="signup-form"]')?.classList.add('active');
        signupForm.classList.add('form--active');
        const firstInput = signupForm.querySelector('input:not([type="hidden"]), select, textarea');
        firstInput?.focus();
    }


    // Add listeners to clear validation on input for all relevant inputs
    document.querySelectorAll('#signup-form input[required], #signup-form select[required], #login-form input[required]').forEach(input => {
        input.addEventListener('input', () => {
            if(input.checkValidity()){ // Basic check
                input.classList.remove('invalid');
                const errorSpan = input.closest('.form__group')?.querySelector('.form__error-message');
                if (errorSpan) errorSpan.textContent = '';
            }
            // Specific check for password confirmation
            if(input.id === 'signup-confirm-password' || input.id === 'signup-password') {
                if(signupPasswordInput?.value === signupConfirmPasswordInput?.value) {
                    if(signupPasswordMismatchSpan) signupPasswordMismatchSpan.textContent = '';
                    if(signupConfirmPasswordInput?.value === signupPasswordInput?.value) {
                        signupConfirmPasswordInput.classList.remove('invalid');
                        const confirmErrorSpan = signupConfirmPasswordInput.closest('.form__group')?.querySelector('.form__error-message');
                        if(confirmErrorSpan && confirmErrorSpan.textContent === "Passwords do not match.") {
                           confirmErrorSpan.textContent = '';
                        }
                    }
                }
            }
            // Specific check for terms checkbox
            if (input.id === 'signup-terms' && input.checked) {
                input.classList.remove('invalid');
                const termsErrorSpan = input.closest('.form__group')?.querySelector('.form__error-message');
                if(termsErrorSpan) termsErrorSpan.textContent = "";
            }
        });
    });


    console.log("Uplas uhome.js loaded and initialized.");
});
