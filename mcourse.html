<!DOCTYPE html>
<html lang="en"> <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate-key="mcourse_page_title_default">Interactive AI Learning | Uplas</title>
    <link rel="icon" href="images/uni_plas_prev_ui.ico" type="image/x-icon">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" xintegrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/mcourse.css">

    <meta name="description" content="Engage in interactive AI-powered Q&A learning sessions on Uplas. Experience personalized learning with TTS, TTV, and AI Tutor support.">
    <meta name="theme-color" content="#00b4d8">
</head>
<body class="light-mode">

    <header class="header" id="page-header">
        <div class="container header__container">
            <a href="index.html" class="logo" aria-label="Uplas Homepage">
                <img src="images/uni_plas_prev_ui.ico" alt="Uplas Platform Logo" class="logo__img">
            </a>
            <nav class="nav" id="main-navigation" aria-label="Main site navigation">
                <ul class="nav__list">
                    <li class="nav__item"><a href="index.html" class="nav__link" data-translate-key="nav_home">Home</a></li>
                    <li class="nav__item"><a href="ucourses_list.html" class="nav__link" data-translate-key="nav_courses">Courses</a></li>
                    {/* */}
                    <li class="nav__item"><a href="#" class="nav__link nav__link--active" aria-current="page" data-translate-key="nav_learning_session">Learning Session</a></li>
                    <li class="nav__item"><a href="uprojects.html" class="nav__link" data-translate-key="nav_projects">My Projects</a></li>
                    <li class="nav__item"><a href="ucommunity.html" class="nav__link" data-translate-key="nav_community">Community</a></li>
                </ul>
            </nav>
            <div class="header-actions">
                <div class="language-currency-selectors">
                    <div class="select-wrapper">
                        <label for="language-selector" class="sr-only" data-translate-key="sr_select_language">Select Language</label>
                        <i class="fas fa-globe selector-icon"></i>
                        <select id="language-selector" class="header-select" title="Select Language">
                            <option value="en">English (EN)</option>
                            <option value="es">Español (ES)</option>
                            <option value="fr">Français (FR)</option>
                        </select>
                    </div>
                    {/* Currency selector might be less relevant on an active learning page unless showing unlockable content costs */}
                </div>
                <button id="theme-toggle" class="button button--theme" aria-label="Switch color theme" title="Toggle theme">
                    <i class="fas fa-moon theme-icon theme-icon--dark" aria-hidden="true"></i>
                    <i class="fas fa-sun theme-icon theme-icon--light" aria-hidden="true" style="display:none;"></i>
                    <span class="sr-only" data-translate-key="toggle_theme_sr">Toggle Dark/Light Mode</span>
                </button>
                {/* User Profile/Avatar Placeholder */}
                <div class="user-profile-placeholder-header" id="user-avatar-header">
                    <button class="user-avatar-button-header" aria-label="User menu">JD</button>
                </div>
            </div>
            <button class="nav__toggle" id="mobile-nav-toggle" aria-label="Toggle navigation menu" aria-expanded="false" aria-controls="main-navigation">
                <i class="fas fa-bars" aria-hidden="true"></i>
                <span class="sr-only" data-translate-key="toggle_navigation_sr">Menu</span>
            </button>
        </div>
    </header>

    <main class="mcourse-main-content" id="main-content-area" role="main">
        <div class="learning-environment-grid">
            <aside class="learning-sidebar learning-sidebar--left">
                <div class="sidebar-section">
                    <h3 class="sidebar-title" data-translate-key="mcourse_sidebar_course_nav">Course Navigation</h3>
                    <nav id="course-module-topic-nav" class="module-topic-nav">
                        {/* Dynamically populated by JS based on current course */}
                        <div class="module-group">
                            <button class="module-title-btn" aria-expanded="true" aria-controls="module-1-topics">Module 1: AI Fundamentals</button>
                            <ul id="module-1-topics" class="topic-list-nav">
                                <li><a href="#" class="topic-link-nav active" data-topic-id="1.1">1.1 What is AI?</a></li>
                                <li><a href="#" class="topic-link-nav" data-topic-id="1.2">1.2 Types of AI</a></li>
                            </ul>
                        </div>
                        <div class="module-group">
                            <button class="module-title-btn" aria-expanded="false" aria-controls="module-2-topics">Module 2: Machine Learning Basics</button>
                            <ul id="module-2-topics" class="topic-list-nav" hidden>
                                <li><a href="#" class="topic-link-nav" data-topic-id="2.1">2.1 Supervised Learning</a></li>
                            </ul>
                        </div>
                    </nav>
                </div>
                <div class="sidebar-section">
                    <h3 class="sidebar-title" data-translate-key="mcourse_sidebar_progress">Your Progress</h3>
                    <div class="progress-overview-simple">
                        <p data-translate-key="mcourse_topic_completion">Topic Completion: <span id="topic-progress-percentage">0%</span></p>
                        <div class="progress-bar-container small-progress">
                            <div class="progress-bar-fill" id="topic-progress-bar" style="width: 0%;"></div>
                        </div>
                        <p data-translate-key="mcourse_xp_points">XP Points: <span id="user-xp-points">0</span></p>
                        <p data-translate-key="mcourse_badges_earned">Badges: <span id="user-badges-count">0</span></p>
                    </div>
                </div>
            </aside>

            <section class="learning-interaction-area" aria-labelledby="current-topic-title">
                <header class="topic-header-main">
                    <h2 id="current-topic-title" class="current-topic-title-text">1.1 What is AI?</h2>
                    <div class="topic-actions">
                        <button class="topic-action-btn" id="bookmark-topic-btn" aria-label="Bookmark this topic" title="Bookmark topic">
                            <i class="far fa-bookmark"></i> <span data-translate-key="button_bookmark">Bookmark</span>
                        </button>
                        <button class="topic-action-btn" id="discuss-topic-btn" aria-label="Discuss this topic in community" title="Discuss in community">
                            <i class="fas fa-comments"></i> <span data-translate-key="button_discuss">Discuss</span>
                        </button>
                    </div>
                </header>

                <div class="qna-content-area" id="qna-content-area">
                    {/* AI Questions and User Answers will be appended here by JS */}
                    <div class="ai-question-bubble">
                        <p id="ai-question-text" data-translate-key="mcourse_ai_question_placeholder">Welcome! Let's start with a basic question: Can you define Artificial Intelligence in your own words?</p>
                    </div>
                </div>

                <div class="media-controls-area">
                    <div class="tts-controls">
                        <label for="tts-voice-character-select" class="sr-only" data-translate-key="sr_select_voice">Select Voice Character</label>
                        <select id="tts-voice-character-select" class="form__select form__select--compact" title="Select TTS Voice">
                            <option value="alloy" data-translate-key="tts_voice_alloy">Alloy (Neutral)</option>
                            <option value="echo" data-translate-key="tts_voice_echo">Echo (Energetic)</option>
                            <option value="fable" data-translate-key="tts_voice_fable">Fable (Storyteller)</option>
                            <option value="onyx" data-translate-key="tts_voice_onyx">Onyx (Deep)</option>
                            <option value="nova" data-translate-key="tts_voice_nova">Nova (Bright)</option>
                            <option value="shimmer" data-translate-key="tts_voice_shimmer">Shimmer (Warm)</option>
                        </select>
                        <button id="play-tts-btn" class="button button--secondary button--small" aria-label="Play current content as audio" title="Listen to content">
                            <i class="fas fa-play"></i> <span data-translate-key="button_listen">Listen</span>
                        </button>
                        <div id="audio-player-container" class="audio-player-container-inline"></div>
                    </div>
                    <div class="ttv-controls">
                        <button id="generate-ttv-btn" class="button button--secondary button--small" aria-label="Generate video for this content" title="Watch video explanation">
                            <i class="fas fa-video"></i> <span data-translate-key="button_watch_video">Watch Video</span>
                        </button>
                    </div>
                </div>
                <div id="ttv-player-container" class="video-player-wrapper" style="display: none;">
                    {/* Video player will be injected here */}
                </div>

                <form id="user-answer-form" class="user-input-form">
                    <label for="user-answer-input" class="sr-only" data-translate-key="sr_your_answer">Your Answer</label>
                    <textarea id="user-answer-input" class="form__textarea" rows="3" placeholder="Type your answer or question here..." required data-translate-key="mcourse_answer_placeholder"></textarea>
                    <button type="submit" class="button button--primary" id="submit-answer-btn">
                        <i class="fas fa-paper-plane"></i> <span data-translate-key="button_submit_answer">Submit Answer</span>
                    </button>
                </form>
            </section>

            <aside class="learning-sidebar learning-sidebar--right">
                <div class="sidebar-section ai-tutor-panel-preview">
                    <h3 class="sidebar-title" data-translate-key="mcourse_sidebar_ai_tutor">AI Tutor</h3>
                    <div id="ai-tutor-quick-help" class="ai-tutor-quick-help-text">
                        <p data-translate-key="mcourse_ai_tutor_prompt">Stuck? Need clarification? Ask the AI Tutor!</p>
                    </div>
                    <button class="button button--secondary button--full-width" id="open-ai-tutor-btn">
                        <i class="fas fa-robot"></i> <span data-translate-key="button_open_ai_tutor">Open AI Tutor</span>
                    </button>
                </div>
                <div class="sidebar-section">
                    <h3 class="sidebar-title" data-translate-key="mcourse_sidebar_resources">Topic Resources</h3>
                    <ul id="topic-resources-list" class="resource-list-sidebar">
                        {/* Dynamically populated by JS */}
                        <li><a href="#" target="_blank" rel="noopener noreferrer"><i class="fas fa-link"></i> <span data-translate-key="mcourse_resource_placeholder1">Key Definitions PDF</span></a></li>
                        <li><a href="#" target="_blank" rel="noopener noreferrer"><i class="fas fa-book-open"></i> <span data-translate-key="mcourse_resource_placeholder2">Further Reading Chapter</span></a></li>
                    </ul>
                </div>
                {/* AI Tutor Chat Window (Initially Hidden or as a Modal) */}
                <div id="ai-tutor-chat-modal" class="modal-overlay" hidden>
                    <div class="modal__content ai-tutor-modal__content">
                        <button class="modal__close-button" id="close-ai-tutor-modal-btn">&times;</button>
                        <h4 data-translate-key="ai_tutor_chat_title">AI Tutor Chat</h4>
                        <div id="ai-tutor-messages" class="ai-tutor-messages-area"></div>
                        <form id="ai-tutor-input-form" class="ai-tutor-input-area">
                            <input type="text" id="ai-tutor-message-input" placeholder="Ask a question..." required>
                            <button type="submit"><i class="fas fa-paper-plane"></i></button>
                        </form>
                    </div>
                </div>
            </aside>
        </div>
    </main>

    <footer class="footer" id="page-footer" role="contentinfo">
        {/* ... Standard Footer Structure with data-translate-key attributes ... */}
        <div class="footer__container container">
            {/* ... footer content ... */}
        </div>
        <div class="footer__bottom">
            <p class="footer__copyright" data-translate-key="footer_copyright_dynamic">© <span id="current-year-footer">{currentYear}</span> Uplas EdTech Solutions Ltd. All rights reserved. Empowering the next generation of AI innovators.</p>
        </div>
    </footer>

    <script src="js/global.js"></script>
    <script src="js/apiUtils.js"></script>
    <script src="js/mcourse.js"></script>
</body>
</html>
